# File Locker Server Configuration

server:
  port: 9010
  grpc_port: 9011
  host: "0.0.0.0"
  read_timeout: 30s
  write_timeout: 30s
  max_header_bytes: 1048576  # 1 MB

security:
  jwt_secret: "change-me-in-production"
  session_timeout: 3600  # seconds
  tls:
    enabled: false
    cert_file: ""
    key_file: ""
  rate_limiting:
    enabled: true
    requests_per_minute: 100
    burst: 20

storage:
  minio:
    endpoint: "localhost:9012"
    access_key: "minioadmin"
    secret_key: "minioadmin"
    bucket: "filelocker"
    use_ssl: false
    region: "us-east-1"
  redis:
    addr: "localhost:6379"
    password: ""
    db: 0
    max_retries: 3
    pool_size: 10

encryption:
  algorithm: "AES-256-GCM"
  key_size: 32  # bytes
  
features:
  auto_delete:
    enabled: true
    check_interval: 3600  # seconds (1 hour)
  video_streaming:
    enabled: true
    chunk_size: 1048576  # 1 MB chunks
  batch_uploads:
    enabled: true
    max_concurrent: 5
  
upload:
  max_file_size: 5368709120  # 5 GB
  allowed_mime_types:
    - "video/*"
    - "audio/*"
    - "image/*"
    - "application/pdf"
    - "application/zip"
    - "text/*"
  temp_dir: "/tmp/filelocker"

logging:
  level: "info"  # debug, info, warn, error
  format: "json"  # json, text
  output: "stdout"  # stdout, file
  file_path: "/var/log/filelocker/server.log"

cors:
  enabled: true
  allowed_origins:
    - "http://localhost:3000"
    - "http://localhost:9010"
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "Authorization"
    - "Content-Type"
  max_age: 3600
