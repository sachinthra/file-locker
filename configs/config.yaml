# File Locker Server Configuration

server:
  port: 9010
  grpc_port: 9011
  host: "0.0.0.0"
  read_timeout: 30s
  write_timeout: 30s
  max_header_bytes: 1048576  # 1 MB

storage:
  minio:
    # Connection string for LOCAL development (Host view)
    endpoint: "localhost:9012" 
    
    # Ports definitions (Used by Docker Compose via sync script)
    port_api: 9012      # External Port for API
    port_console: 9013  # External Port for Console
    
    access_key: "minioadmin"
    secret_key: "minioadmin"
    bucket: "filelocker"
    use_ssl: false
    region: "us-east-1"
    
  redis:
    # Connection string for LOCAL development (Host view)
    addr: "localhost:6379"
    
    # Port definition
    port: 6379
    
    password: ""
    db: 0

security:
  jwt_secret: "change-me-in-production"
  session_timeout: 3600  # seconds
  tls:
    enabled: false
    cert_file: ""
    key_file: ""
  rate_limiting:
    enabled: true
    requests_per_minute: 100
    burst: 20

features:
  auto_delete:
    enabled: true
    check_interval: 3600  # seconds (1 hour)
  video_streaming:
    enabled: true
    chunk_size: 1048576  # 1 MB chunks
  batch_uploads:
    enabled: true
    max_concurrent: 5

logging:
  level: "info"  # debug, info, warn, error
  format: "json"  # json, text
  output: "stdout"  # stdout, file
  file_path: "/var/log/filelocker/server.log"


# encryption: # Not yet implemented
#   algorithm: "AES-256-GCM"
#   key_size: 32  # bytes
  
# upload: # Not yet implemented
#   max_file_size: 5368709120  # 5 GB
#   allowed_mime_types:
#     - "video/*"
#     - "audio/*"
#     - "image/*"
#     - "application/pdf"
#     - "application/zip"
#     - "text/*"
#   temp_dir: "/tmp/filelocker"

# cors: # Not yet implemented
#   enabled: true
#   allowed_origins:
#     - "http://localhost:3000"
#     - "http://localhost:9010"
#   allowed_methods:
#     - "GET"
#     - "POST"
#     - "PUT"
#     - "DELETE"
#     - "OPTIONS"
#   allowed_headers:
#     - "Authorization"
#     - "Content-Type"
#   max_age: 3600
